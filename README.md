# Дипломный проект профессии «1C-программист: с нуля до middle»

## Кастомизация конфигурации «Управление IT-фирмой для компании «Ваш компьютерный мастер»

### Цель дипломного проекта

Разработать и подготовить к эксплуатации новый функциональный блок в конфигурации «Управление IT-фирмой».

Вам нужно:

- реализовать новые подсистемы «Работа с заявками клиентов» и «Расчёт управленческой зарплаты» в соответствии с требованиями заказчика,
- подготовить отчёты по новой функциональности,
- оформить инструкцию по начальной настройке,
- подготовить автотест для проверки корректности работы подсистемы «Работа с заявками клиентов»,
- загрузить результат работы в новый репозиторий на GitHub.

------

### Чек-лист готовности к работе над проектом

1. Установите [учебную версию](https://drive.google.com/file/d/1zMZCr5NnLtrkqV1ziCS5u_G8mDri07Rs/view?usp=sharing) платформы 1С:Предприятие 8.3.22.2411.
2. Скачайте и установите [Liberica JDK 11](https://releases.1c.ru/project/Liberica11FullJDK).
3. Скачайте и установите 1С:EDT [последней актуальной версии](https://edt.1c.ru/).
4. Зарегистрируйтесь на github.com и создайте форк от этого репозитория.
5. С помощью 1С:EDT клонируйте свой форк репозитория.

Если все этапы чек-листа пройдены, можете начинать работу над проектом. Успехов.

------

### Инструменты и дополнительные материалы для выполнения задания
- Для учебной версии платформы [архив с дистрибутивом Vanessa Automation](https://u.netology.ru/backend/uploads/lms/content_assets/file/7038/download.html). **В дистрибутиве заменены обращения при подключении тест-клиента с файла 1cv8c.exe на 1cv8ct.exe**.
- Для остальных версий платформы нужно скачать Vanessa Automation из [официального гит-репозитория](https://pr-mex.github.io/vanessa-automation/dev/).

------

### Описание задания

Компания «Ваш компьютерный мастер» использует конфигурацию «Управление IT-фирмой» от стороннего поставщика. Вам поставлена задача добавить в конфигурацию модуль для работы с заявками на обслуживание клиентов и модуль для расчёта управленческой заработной платы.

Исходная версия конфигурации размещена в [этом репозитории](https://github.com/netology-code/fonecmid-diplom/tree/main/diplom-src). Для доработки конфигурации нужно использовать 1C:EDT. При доработке конфигурации максимально задействуйте функциональность библиотеки стандартных подсистем.

Для добавленных объектов, реквизитов, методов используйте префикс ВКМ_. Если меняется программный код существующих методов, изменения должны быть выделены комментариями.

Все добавленные объекты должны быть размещены в новой служебной подсистеме ВКМ_ДобавленныеОбъекты. В добавленных объектах не должно быть ошибок, выявляемых встроенным механизмом проверки 1C:EDT.

Для передачи результата изменённую конфигурацию загрузите в отдельный репозиторий на [github.com](https://github.com). Чтобы результаты работы можно было проверить, репозиторий должен быть публичным.

Вместе с результатами работы должны быть переданы инструкция по начальной настройке новой подсистемы и сценарий для автоматизированного тестирования модуля работы с заявками клиентов.

В блок Releases репозитория должен быть добавлен dt-файл демонстрационной базы с введёнными тестовыми данными, которые показывают работу всех механизмов системы.

------

### Подробные требования к подсистемам

- [Работа с заявками клиентов](tasks/tickets.md).
- [Расчёт управленческой зарплаты](tasks/hrm.md).
- [Отчёты](tasks/reports.md).
- [Инструкция по начальной настройке](tasks/docs.md).
- [Тестирование](tasks/testing.md).

------

### Дорожная карта (roadmap)

Работа над проектом рассчитана на один месяц. Для планирования своего времени рекомендуем опираться на дорожную карту. Придерживайтесь указанного разделения проекта на этапы и задачи исполнителя.

- 1-я неделя. Разработка подсистемы «Работа с заявками клиентов».
- 2-я неделя. Разработка подсистемы «Расчёт управленческой зарплаты».
- 3-я неделя. Разработка отчётов, автотеста и инструкции по начальной настройке.
- 4-я неделя. Оформление репозитория, демонстрационной базы, отправка проекта на проверку дипломному руководителю.
- 5-я неделя. Получение обратной связи от руководителя и доработка проекта с повторной проверкой при необходимости.

------

### Правила сдачи работы

Решение нужно передать в виде ссылки на публичный репозиторий на github.com, в котором размещены:

1. Исходный код доработанной конфигурации в формате 1C:EDT.
2. Сценарий автотеста и инструкция по запуску автотеста.
3. Инструкция по начальной настройке доработанной конфигурации.
4. В списке релизов файл с демонстрационной базой в формате *dt.

------

### Критерии оценки

Зачёт по дипломной работе можно получить, если работа соответствует критериям:

1. Репозиторий содержит исходный код конфигурации в формате 1C:EDT.
2. Функциональность конфигурации не имеет существенных ошибок и соответствует техническому заданию.
3. В добавленных объектах нет ошибок, выявляемых проверками 1C:EDT с набором плагинов и составом проверок по умолчанию.
4. Автотест запускается и соответствует техническому заданию.
5. Инструкция по начальному запуску описывает шаги, необходимые для начала использования доработанной конфигурации.
6. Демонстрационная база содержит достаточный набор данных, соответствующий требованиям.



# Инструкция по начальной настройке конфигурации
 
1.    Установить соответствующие роли пользователям в соответствии с правами доступа:

Пользователь «Администратор» (с полными правами).

Подсистема Администрирование/Настройки пользователей и прав/Пользователи

Выбираем нужного нам пользователя и на вкладке "Права доступа" добавляем для него соответствующие права:
 
- Менеджер отдела обслуживания клиентов - права доступа "Менеджер";

- Специалист отдела обслуживания клиентов - права доступа "Специалист";

- Бухгалтер - права доступа "Бухгалтер ИТ Фирмы";

- Бухгалтер по кадрам - права доступа "Кадровик-расчетчик";

 
2.    Настроить оповещение в телеграмме (должен быть создан бот и создан чат в телеграмме, куда добавлены все нужные сотрудники и бот):
 
Пользователь «Администратор» (с полными правами).

Заполнить данные в подсистеме Добавленные объекты/сервис: 
- Константу "Идентификатор группы для оповещения";
- Константу "Токен управления телеграмм-ботом";
 
Теперь при создании или изменении документа "Обслуживание клиента" в чат будет приходить оповещение.
 
3. Настройка расчета

Пользователь «Администратор» (с полными правами).

Заполнить данные в подсистеме Добавленные объекты/сервис:

- Константу по выставляемым услугам "Номенклатура абонентская плата" значением «Абонентская плата»;
- Константу по выставляемым услугам "Номенклатура работы специалиста" значением «Работы специалиста»;
 
Данная настройка необходима для выставления счетов клиентам по документам "Обслуживание клиентов" и 
«Реализация товаров и услуг», взаиморасчетам с сотрудниками по результатам выполненных работ.
 
 
3. Создание заявки Менеджером

Пользователь с правами "Менеджер".

Подсистема Обслуживание клиентов/ Документ "Обслуживание клиентов" создает документ на основании получения заявки от клиента, планирует дату и время проведения работ, назначает специалиста.
 
4. Закрытие заявки Специалистом

Пользователь с правами "Специалист".

Подсистема Обслуживание клиентов/ Документ "Обслуживание клиентов" открывает свою заявку, заполняет работы, указывает часы работы, сопровождает комментарием, прикрепляет скан (акта выполненных работ) с подписями в двухстороннем порядке, проводит документ.
 
Одновременно с записью документа с новой заявкой по обслуживанию происходит создание телеграмм-сообщения, которое фиксируется в справочнике «Уведомления телеграмм боту».
При изменении данных в документе и его проведении также создаётся телеграмм-сообщение и фиксируется
в справочнике «Уведомления телеграмм боту».
 
5. Выставление работ Бухгалтером

Пользователь с правами "Бухгалтер ИТ Фирмы".

Подсистема Обслуживание клиентов/ Сервис/ Массовое создание актов

Выбирает месяц, за который необходимо создать документы «Реализация товаров и услуг», по данным
Документов обслуживания клиентов.
При нажатии кнопки "создать реализации", если имеются несозданные документы реализации, они создаются,
Происходит заполнение списка и выводится сообщение о созданных документах.
Если все документы реализации за указанный период созданы ранее или дата создания документа не
не находится в интервале срока действия договора с контрагентом, документы не создаются, выводится  
Соответствующее сообщение. 
 
6. Начисление зарплаты Кадровиком-расчетчиком

Пользователь с правами "Кадровик-расчетчик".

Подсистема Расчет зарплаты:

- заполняются для сотрудников оклады (для подразделения специалистов дополнительно устанавливается
процент от суммы выполненных работ);

- заполняется график работы (Обработка «Заполнение графика работы»); 
 
Подсистема  Расчет зарплаты /Документы:

1. Документ График отпусков, создается один на весь год, куда фиксируется планируемый отпуск сотрудника;

2. Документ Начисление фиксированной премии для начисления фиксированной премии;

3. Документ Начисление зарплаты для начисления по окладу, отпуску и процент от работ(для специалистов);

4. Документ Выплата зарплаты для расчета с сотрудниками.